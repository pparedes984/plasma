{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "pnlmuestras",
        "designer|userClassName": "pnlMuestras",
        "layout": "fit",
        "title": "Material de Referencia PEED"
    },
    "configAlternates": {
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "title": "string",
        "layout": "string"
    },
    "name": "MyPanel9",
    "designerId": "32cf2257-1870-44eb-b261-d83ec2242cf6",
    "viewControllerInstanceId": "c055c8e8-9edb-4a74-8059-fff267cf895e",
    "viewModelInstanceId": "125d7c9d-920a-4915-b489-59e4ec8e7551",
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "dock": "top"
            },
            "configAlternates": {
                "dock": "string"
            },
            "name": "MyToolbar4",
            "designerId": "e14a2317-7174-44bb-93b6-35e5e2272cb9",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconAlign": "right",
                        "iconCls": "x-fa fa-plus",
                        "id": "btnNuevoMuestra",
                        "layout|flex": null,
                        "text": "Nuevo"
                    },
                    "configAlternates": {
                        "iconAlign": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "text": "string",
                        "id": "string"
                    },
                    "name": "MyButton5",
                    "designerId": "5afc03c0-c6b2-46ab-ab47-07f0198ec5fb",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtnNuevoMuestraClick",
                                "implHandler": [
                                    "if(!Ext.getCmp('pnlNuevoMuestra'))",
                                    "{",
                                    "    Ext.getCmp('pnlCentral').removeAll();",
                                    "    var win = Ext.create('plasma.view.pnlNuevoMuestra');",
                                    "    ME.getView().down('#pnlCentral').add(win);",
                                    "    win.show();",
                                    "    Ext.getCmp('txtAnalista').setValue(USUARIO);",
                                    "    Ext.getCmp('txtAnalista1').setValue(USUARIO);",
                                    "    var strInstitucion = Ext.getStore('Institucion');",
                                    "",
                                    "    strInstitucion.proxy.extraParams={",
                                    "        bandera :1",
                                    "    };",
                                    "    strInstitucion.load();",
                                    "",
                                    "    var strMarcador = Ext.getStore('Marcador');",
                                    "    strMarcador.proxy.extraParams={",
                                    "        bandera :1",
                                    "    };",
                                    "    strMarcador.load();",
                                    "",
                                    "    var strKit = Ext.getStore('Kit');",
                                    "",
                                    "    strKit.proxy.extraParams={",
                                    "        bandera :1",
                                    "    };",
                                    "    strKit.load();",
                                    "",
                                    "    I = 0;",
                                    "    ID = 'null';",
                                    "    VOLUMEN = null;",
                                    "",
                                    "    Ext.getCmp('txtFechaTransformacion').setVisible(false);",
                                    "    Ext.getCmp('txtObservacionT').setVisible(false);",
                                    "    Ext.getCmp('txtLocalizacion').setVisible(false);",
                                    "    Ext.getCmp('txtUbicacionSeroteca').setVisible(false);",
                                    "    Ext.getCmp('txtVolumen').setVisible(false);",
                                    "    Ext.getCmp('txtConcentracion').setVisible(false);",
                                    "",
                                    "    Ext.getCmp('tabPanel').down('#tab1').setDisabled(true);",
                                    "    Ext.getCmp('tabPanel').down('#tab2').setDisabled(true);",
                                    "    Ext.getCmp('tabPanel').down('#tab3').setDisabled(true);",
                                    "    Ext.getCmp('tabPanel').down('#tab4').setDisabled(true);",
                                    "",
                                    "",
                                    "",
                                    "",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onBtnNuevoMuestraClick",
                            "designerId": "7aed1b8c-8a1f-4f65-b6c1-c31e8cac3951"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconAlign": "right",
                        "iconCls": "x-fa fa-trash",
                        "id": "btnEliminarMuestra",
                        "layout|flex": null,
                        "text": "Eliminar"
                    },
                    "configAlternates": {
                        "iconAlign": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "text": "string",
                        "id": "string"
                    },
                    "name": "MyButton11",
                    "designerId": "d5ecdc48-cb1f-498f-bc15-55750ea830ed",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtnEliminarMuestraClick",
                                "implHandler": [
                                    "var g = Ext.getCmp('grdMuestras');",
                                    "var arrayKeys = g.getSelectionModel().selected.items;",
                                    "var indice = g.getSelectionModel().selectionStartIdx;",
                                    "if(arrayKeys.length === 0)",
                                    "    Ext.Msg.alert('Error', 'Debe escoger un usuario');",
                                    "else",
                                    "{",
                                    "",
                                    "    var store = g.getStore();",
                                    "    var rec = g.selection;",
                                    "    Ext.Ajax.request({",
                                    "        url: '../servidor/plasma/muestra/verificarMuestra',",
                                    "        method:\"post\",",
                                    "        params: {",
                                    "            id: rec.data.id",
                                    "        },",
                                    "        success: function( result, request ) {",
                                    "            var responseData = Ext.JSON.decode(result.responseText);",
                                    "            if(responseData.success)",
                                    "            {",
                                    "                store.remove(rec);",
                                    "                store.sync(",
                                    "                    {",
                                    "                        params:{",
                                    "                            id: rec.data.id",
                                    "                        },",
                                    "                        success: function(batch, success)",
                                    "                        {",
                                    "                            store.commitChanges();",
                                    "                            store.load();",
                                    "                            Ext.Msg.alert('Alerta', 'Se ha eliminado el registro exitosamente');",
                                    "                        },",
                                    "",
                                    "                        failure: function(batch, success)",
                                    "                        {",
                                    "                            Ext.Msg.alert('Error', 'Hubor un error');",
                                    "                        }",
                                    "                    });",
                                    "            }",
                                    "            else",
                                    "            {",
                                    "                Ext.Msg.alert('Alerta','Este registro tiene datos asociados.');",
                                    "            }",
                                    "        },",
                                    "",
                                    "        failure: function(response, opts) {",
                                    "            console.log('server-side failure with status code ' + response.status);",
                                    "        }",
                                    "    });",
                                    "",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onBtnEliminarMuestraClick",
                            "designerId": "3add8cc7-b79d-4c05-86ee-4ded51e25478"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.grid.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "forceFit": true,
                "id": "grdMuestras",
                "store": "Muestra",
                "title": ""
            },
            "configAlternates": {
                "forceFit": "boolean",
                "id": "string",
                "title": "string",
                "store": "store"
            },
            "name": "MyGridPanel4",
            "designerId": "d8941206-621d-47fc-ac2e-44dc7a9bbb8e",
            "cn": [
                {
                    "type": "Ext.view.Table",
                    "reference": {
                        "name": "viewConfig",
                        "type": "object"
                    },
                    "codeClass": null,
                    "name": "MyTable4",
                    "designerId": "89d09202-d591-4ab4-8357-8b2a2705db3d",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onTableItemDblClick",
                                "implHandler": [
                                    "if(!Ext.getCmp('pnlNuevoMuestra'))",
                                    "{",
                                    "",
                                    "    var grid = Ext.getCmp('grdMuestras');",
                                    "    var arrayKeys = grid.getSelectionModel().selected.items;",
                                    "    var indice = grid.getSelectionModel().selectionStartIdx;",
                                    "    ID = arrayKeys[0].data.id;",
                                    "    VOLUMEN = arrayKeys[0].data.volumen;",
                                    "    Ext.getCmp('pnlCentral').removeAll();",
                                    "    var win = Ext.create('plasma.view.pnlNuevoMuestra');",
                                    "    ME.getView().down('#pnlCentral').add(win);",
                                    "    win.show();",
                                    "    var strInstitucion = Ext.getStore('Institucion');",
                                    "",
                                    "    strInstitucion.proxy.extraParams={",
                                    "        bandera :1",
                                    "    };",
                                    "    strInstitucion.load();",
                                    "    var strKit = Ext.getStore('Kit');",
                                    "",
                                    "    strKit.proxy.extraParams={",
                                    "        bandera :1",
                                    "    };",
                                    "    strKit.load();",
                                    "    var strCodigo = Ext.getStore('Codigo');",
                                    "    strCodigo.load();",
                                    "    I = 0;",
                                    "    J = 0;",
                                    "    AUXILIAR = 0;",
                                    "    AUX =0;",
                                    "",
                                    "    Ext.getCmp('tabPanel').down('#tab2').setDisabled(true);",
                                    "    Ext.getCmp('tabPanel').down('#tab3').setDisabled(true);",
                                    "    Ext.getCmp('tabPanel').down('#tab4').setDisabled(true);",
                                    "",
                                    "    Ext.Ajax.request({",
                                    "        url: '../servidor/plasma/muestra/comprobarsuero',",
                                    "        method:\"post\",",
                                    "        params: {",
                                    "            data: ID",
                                    "        },",
                                    "        success: function( result, request ) {",
                                    "            var responseData = Ext.JSON.decode(result.responseText);",
                                    "",
                                    "            if(responseData.estado_suero === 'Completo')",
                                    "            {",
                                    "                Ext.getCmp('tabPanel').down('#tab4').setDisabled(false);",
                                    "",
                                    "",
                                    "            }",
                                    "        },",
                                    "",
                                    "        failure: function(response, opts) {",
                                    "            console.log('server-side failure with status code ' + response.status);",
                                    "        }",
                                    "    });",
                                    "",
                                    "    Ext.Ajax.request({",
                                    "        url: '../servidor/plasma/muestra/comprobarplasma',",
                                    "        method:\"post\",",
                                    "        params: {",
                                    "            data: ID",
                                    "        },",
                                    "        success: function( result, request ) {",
                                    "            var responseData = Ext.JSON.decode(result.responseText);",
                                    "            if(responseData.estado_plasma === 'Completo')",
                                    "            {",
                                    "                Ext.getCmp('tabPanel').down('#tab2').setDisabled(false);",
                                    "                Ext.getCmp('tabPanel').down('#tab3').setDisabled(false);",
                                    "",
                                    "",
                                    "",
                                    "            }",
                                    "            else{",
                                    "                Ext.getCmp('tabPanel').down('#tab4').setDisabled(true);",
                                    "            }",
                                    "        },",
                                    "",
                                    "        failure: function(response, opts) {",
                                    "            console.log('server-side failure with status code ' + response.status);",
                                    "        }",
                                    "    });",
                                    "",
                                    "",
                                    "    Ext.Ajax.request({",
                                    "        url: '../servidor/plasma/muestramarcador/obtener',",
                                    "        method:\"post\",",
                                    "        params: {",
                                    "            muestra: ID",
                                    "        },",
                                    "        success: function( result, request ) {",
                                    "            var responseData = Ext.JSON.decode(result.responseText);",
                                    "            if(responseData.success)",
                                    "            {",
                                    "                AUXILIAR = responseData.data[0].contador;",
                                    "                for (var i=1; i<responseData.data[0].contador; i++){",
                                    "                    var panel = Ext.create('Ext.panel.Panel', {",
                                    "                        margin: '10 10 10 10',",
                                    "                        layout : {",
                                    "                            type  : 'vbox',",
                                    "                            pack  : 'center',",
                                    "                            align : 'middle'",
                                    "                        },",
                                    "",
                                    "                        items:[",
                                    "",
                                    "                            {",
                                    "                                xtype: 'combobox',",
                                    "                                id: 'cbMarcador'+I,",
                                    "                                fieldLabel: 'Marcador Serológico',",
                                    "                                name: 'marcador',",
                                    "                                allowBlank: false,",
                                    "                                editable: false,",
                                    "                                displayField: 'nombre',",
                                    "                                queryMode: 'local',",
                                    "                                store: 'Marcador',",
                                    "                                valueField: 'id',",
                                    "                                labelStyle: 'font-weight:bold'",
                                    "                            },",
                                    "",
                                    "",
                                    "                        ],",
                                    "                        renderTo: Ext.getBody()",
                                    "                    });",
                                    "",
                                    "                    I=I+1;",
                                    "                    Ext.getCmp('frmRecepcion2').add(panel);",
                                    "                }",
                                    "",
                                    "                Ext.Ajax.request({",
                                    "                    url: '../servidor/plasma/muestrakit/obtener',",
                                    "                    method:\"post\",",
                                    "                    params: {",
                                    "                        muestra: ID",
                                    "                    },",
                                    "                    success: function( result, request ) {",
                                    "                        var responseData = Ext.JSON.decode(result.responseText);",
                                    "",
                                    "                        if(responseData.success)",
                                    "                        {",
                                    "                            AUX = responseData.data[0].contador;",
                                    "                            for (var i=1; i<responseData.data[0].contador; i++){",
                                    "                                var panel = Ext.create('Ext.panel.Panel', {",
                                    "                                    margin: '10 10 10 10',",
                                    "                                    layout : {",
                                    "                                        type  : 'vbox',",
                                    "                                        pack  : 'center',",
                                    "                                        align : 'middle'",
                                    "                                    },",
                                    "",
                                    "                                    items:[",
                                    "",
                                    "                                        {",
                                    "                                            xtype: 'combobox',",
                                    "                                            id: 'cbKitM'+J,",
                                    "                                            fieldLabel: 'Kit',",
                                    "                                            name: 'kit',",
                                    "                                            allowBlank: false,",
                                    "                                            editable: false,",
                                    "                                            displayField: 'nombre',",
                                    "                                            queryMode: 'local',",
                                    "                                            store: 'Kit',",
                                    "                                            valueField: 'id',",
                                    "                                            labelStyle: 'font-weight:bold'",
                                    "                                        },",
                                    "                                        {",
                                    "                                            xtype: 'textfield',",
                                    "                                            id: 'txtAbsCoi'+J,",
                                    "                                            fieldLabel: 'Abs/COI',",
                                    "                                            name: 'abs_coi',",
                                    "                                            allowBlank: false,",
                                    "                                            labelStyle: 'font-weight:bold'",
                                    "                                        }",
                                    "",
                                    "                                    ],",
                                    "                                    renderTo: Ext.getBody()",
                                    "                                });",
                                    "",
                                    "                                J=J+1;",
                                    "                                Ext.getCmp('frmRecepcion1').add(panel);",
                                    "                            }",
                                    "                        }",
                                    "                    },",
                                    "",
                                    "                    failure: function(response, opts) {",
                                    "                        console.log('server-side failure with status code ' + response.status);",
                                    "                    }",
                                    "                });",
                                    "",
                                    "                Ext.Ajax.request({",
                                    "                    url: '../servidor/plasma/muestra/obtener',",
                                    "                    method:\"post\",",
                                    "                    params: {",
                                    "                        muestra: ID",
                                    "                    },",
                                    "                    success: function( result, request ) {",
                                    "                        var responseData = Ext.JSON.decode(result.responseText);",
                                    "                        if(responseData.success)",
                                    "                        {",
                                    "",
                                    "",
                                    "                            var rcptDate1=new Date(responseData.data['marcador'][0].fecha_ingreso);",
                                    "                            var fecha1 = Ext.Date.format(rcptDate1, 'Y-m-d');",
                                    "",
                                    "                            if(responseData.data['marcador'][0].fecha_transformacion !== null){",
                                    "                                var rcptDate2=new Date(responseData.data['marcador'][0].fecha_transformacion);",
                                    "                                var fecha2 = Ext.Date.format(rcptDate2, 'Y-m-d');",
                                    "                            }",
                                    "",
                                    "                            Ext.getCmp('txtAnalista').setValue(responseData.data['marcador'][0].usuario_recepcion);",
                                    "                            Ext.getCmp('txtFechaRecepcion').setValue(fecha1);",
                                    "                            Ext.getCmp('cbInstitucion').setValue(responseData.data['marcador'][0].institucion);",
                                    "                            Ext.getCmp('txtCodInstitucional').setValue(responseData.data['marcador'][0].id);",
                                    "",
                                    "                            Ext.getCmp('txtUbicacion').setValue(responseData.data['marcador'][0].ubicacion);",
                                    "                            Ext.getCmp('txtUbicacionPlasmoteca').setValue(responseData.data['marcador'][0].ubicacion_plasmoteca);",
                                    "",
                                    "                            if(responseData.data['marcador'][0].usuario_transformacion===null)",
                                    "                                Ext.getCmp('txtAnalista1').setValue(USUARIO);",
                                    "                            else{",
                                    "                                Ext.getCmp('txtAnalista1').setValue(responseData.data['marcador'][0].usuario_transformacion);",
                                    "                            }",
                                    "                            console.log(responseData.data['marcador'][0].estatus);",
                                    "",
                                    "                            if(responseData.data['marcador'][0].estatus === 1){",
                                    "                                Ext.getCmp('cbStatus').setValue(responseData.data['marcador'][0].estatus);",
                                    "                                Ext.getCmp('txtFechaTransformacion').setValue(fecha2);",
                                    "                                Ext.getCmp('txtLocalizacion').setValue(responseData.data['marcador'][0].localizacion_transformacion);",
                                    "                                Ext.getCmp('txtUbicacionSeroteca').setValue(responseData.data['marcador'][0].ubicacion_seroteca);",
                                    "                                Ext.getCmp('txtVolumen').setValue(responseData.data['marcador'][0].volumen);",
                                    "                                Ext.getCmp('txtConcentracion').setValue(responseData.data['marcador'][0].concentracion_calcio);",
                                    "                                Ext.getCmp('txtObservacionT').setVisible(false);",
                                    "                            }",
                                    "                            else {",
                                    "                                Ext.getCmp('cbStatus').setValue(responseData.data['marcador'][0].estatus);",
                                    "                                Ext.getCmp('txtFechaTransformacion').setValue(fecha2);",
                                    "                                Ext.getCmp('txtObservacionT').setValue(responseData.data['marcador'][0].observacion);",
                                    "                                Ext.getCmp('txtLocalizacion').setVisible(false);",
                                    "                                Ext.getCmp('txtUbicacionSeroteca').setVisible(false);",
                                    "                                Ext.getCmp('txtVolumen').setVisible(false);",
                                    "                                Ext.getCmp('txtConcentracion').setVisible(false);",
                                    "",
                                    "                            }",
                                    "",
                                    "                            Ext.getCmp('cbMarcadorM').setValue(responseData.data['marcador'][0].c);",
                                    "                            Ext.getCmp('txtAbsCoi').setValue(responseData.data['kit'][0].d);",
                                    "                            Ext.getCmp('cbKitM').setValue(responseData.data['kit'][0].b);",
                                    "",
                                    "",
                                    "                            for(var i = 0; i< AUXILIAR-1; i ++){",
                                    "                                Ext.getCmp('cbMarcador'+i).setValue(responseData.data['marcador'][i+1].c);",
                                    "",
                                    "                            }",
                                    "                            for(var j = 0; j< AUX-1; j ++){",
                                    "",
                                    "",
                                    "                                Ext.getCmp('txtAbsCoi'+j).setValue(responseData.data['kit'][j+1].d);",
                                    "                                Ext.getCmp('cbKitM'+j).setValue(responseData.data['kit'][j+1].b);",
                                    "",
                                    "                            }",
                                    "",
                                    "                        }",
                                    "                        else",
                                    "                        {",
                                    "                            Ext.Msg.alert('Alerta','No hay información sobre la muestra');",
                                    "                        }",
                                    "                    },",
                                    "",
                                    "                    failure: function(response, opts) {",
                                    "                        console.log('server-side failure with status code ' + response.status);",
                                    "                    }",
                                    "                });",
                                    "",
                                    "            }",
                                    "            else",
                                    "            {",
                                    "                Ext.Msg.alert('Alerta','No hay información sobre la muestra');",
                                    "            }",
                                    "        },",
                                    "",
                                    "        failure: function(response, opts) {",
                                    "            console.log('server-side failure with status code ' + response.status);",
                                    "        }",
                                    "    });",
                                    "}"
                                ],
                                "name": "itemdblclick",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onTableItemDblClick",
                            "designerId": "f673a97a-11ba-4ecb-bc96-1d407980e0cc"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "id",
                        "text": "URBS"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyColumn14",
                    "designerId": "15f985f7-bd4e-499f-9143-bae6f4d921a4"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "institucion",
                        "text": "Institución"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "format": "string",
                        "text": "string"
                    },
                    "name": "MyColumn12",
                    "designerId": "5b9b56a1-0961-459c-88c1-263920854511",
                    "cn": [
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "editor",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "nombre",
                                "editable": false,
                                "id": "cbInsitucion",
                                "queryMode": "local",
                                "store": "Institucion",
                                "valueField": "id"
                            },
                            "configAlternates": {
                                "displayField": "datafield",
                                "editable": "boolean",
                                "id": "string",
                                "queryMode": "string",
                                "store": "store",
                                "valueField": "datafield"
                            },
                            "name": "MyComboBox10",
                            "designerId": "02265574-703a-45b8-9c11-c03f299d73ba"
                        },
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "if(view)",
                                    "{",
                                    "    var descripcion = record.data.institucion;",
                                    "    var combo = metaData.column.getEditor();",
                                    "    var comboStore = combo.getStore();",
                                    "    var indice = comboStore.findExact(combo.valueField, value);",
                                    "",
                                    "    if (indice >= 0)",
                                    "        return comboStore.getAt(indice).get(combo.displayField);",
                                    "    else",
                                    "        return descripcion;",
                                    "}",
                                    "else",
                                    "    return null;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "0f142cd9-c77a-4d14-8ee2-21898ad029a7"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "marcador",
                        "hidden": true,
                        "text": "Marcador"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "format": "string",
                        "text": "string",
                        "hidden": "boolean"
                    },
                    "name": "MyColumn13",
                    "designerId": "1a418097-739b-452a-977e-973e2740f666",
                    "cn": [
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "editor",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "nombre",
                                "editable": false,
                                "id": "cbMarcador",
                                "queryMode": "local",
                                "store": "Marcador",
                                "valueField": "id"
                            },
                            "configAlternates": {
                                "displayField": "datafield",
                                "editable": "boolean",
                                "id": "string",
                                "queryMode": "string",
                                "store": "store",
                                "valueField": "datafield"
                            },
                            "name": "MyComboBox9",
                            "designerId": "bbbc8dee-5a1a-40ce-a9ba-9545504926e2"
                        },
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "if(view)",
                                    "{",
                                    "    var descripcion = record.data.marcador;",
                                    "    var combo = metaData.column.getEditor();",
                                    "    var comboStore = combo.getStore();",
                                    "    var indice = comboStore.findExact(combo.valueField, value);",
                                    "",
                                    "    if (indice >= 0)",
                                    "        return comboStore.getAt(indice).get(combo.displayField);",
                                    "    else",
                                    "        return descripcion;",
                                    "}",
                                    "else",
                                    "    return null;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "cb3a03f1-7a77-46b2-a3d3-23d7c3909a9e"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "situacion",
                        "text": "Situacion"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyColumn10",
                    "designerId": "cbea0013-f1ad-483f-9024-6d767acbf2aa",
                    "cn": [
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "editor",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "descripcion",
                                "editable": false,
                                "id": "cbSituacion",
                                "queryMode": "local",
                                "store": "Tipo_situacion",
                                "valueField": "id"
                            },
                            "configAlternates": {
                                "displayField": "datafield",
                                "editable": "boolean",
                                "id": "string",
                                "queryMode": "string",
                                "store": "store",
                                "valueField": "datafield"
                            },
                            "name": "MyComboBox11",
                            "designerId": "448a0225-7647-4568-afa1-80d498233718"
                        },
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "if(view)",
                                    "{",
                                    "    var descripcion = record.data.situacion;",
                                    "    var combo = metaData.column.getEditor();",
                                    "    var comboStore = combo.getStore();",
                                    "    var indice = comboStore.findExact(combo.valueField, value);",
                                    "",
                                    "    if (indice >= 0)",
                                    "        return comboStore.getAt(indice).get(combo.displayField);",
                                    "    else",
                                    "        return descripcion;",
                                    "}",
                                    "else",
                                    "    return null;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "361dc5c9-26ff-4a18-8786-14134fa0e0d7"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "estatus",
                        "text": "Status"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyColumn11",
                    "designerId": "cc3363bf-d354-4e3c-bb51-ac276e6194cf",
                    "cn": [
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "editor",
                                "type": "object"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "descripcion",
                                "editable": false,
                                "id": "cbEstatus",
                                "queryMode": "local",
                                "store": "Status",
                                "valueField": "id"
                            },
                            "configAlternates": {
                                "displayField": "datafield",
                                "editable": "boolean",
                                "id": "string",
                                "queryMode": "string",
                                "store": "store",
                                "valueField": "datafield"
                            },
                            "name": "MyComboBox12",
                            "designerId": "3f821f87-741e-48e5-8ea2-dd6d95dc69a7"
                        },
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "if(view)",
                                    "{",
                                    "    var descripcion = record.data.estatus;",
                                    "    var combo = metaData.column.getEditor();",
                                    "    var comboStore = combo.getStore();",
                                    "    var indice = comboStore.findExact(combo.valueField, value);",
                                    "",
                                    "    if (indice >= 0)",
                                    "        return comboStore.getAt(indice).get(combo.displayField);",
                                    "    else",
                                    "        return descripcion;",
                                    "}",
                                    "else",
                                    "    return null;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "dc4bbde3-73ee-43c6-aefa-011c108c99bb"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "volumen",
                        "text": "Volumen"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "format": "string",
                        "text": "string"
                    },
                    "name": "MyColumn22",
                    "designerId": "2078f52f-9a5a-4f8c-9ca5-6f295bf95ff8"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "estado_plasma",
                        "text": "Estado Plasma"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "format": "string",
                        "text": "string"
                    },
                    "name": "MyColumn23",
                    "designerId": "f9b15251-69ce-4bc2-bb06-578c8657fe25"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "estado_suero",
                        "text": "Estado Suero"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "format": "string",
                        "text": "string"
                    },
                    "name": "MyColumn25",
                    "designerId": "7fa86f11-8c10-455b-b684-0cf8b104f43c"
                },
                {
                    "type": "Ext.grid.plugin.RowEditing",
                    "reference": {
                        "name": "plugins",
                        "type": "array"
                    },
                    "codeClass": null,
                    "name": "MyRowEditingPlugin5",
                    "designerId": "b3eb7a87-d42d-41c4-b965-89da6c9393f8"
                },
                {
                    "type": "Ext.toolbar.Toolbar",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dock": "top"
                    },
                    "configAlternates": {
                        "dock": "string"
                    },
                    "name": "MyToolbar6",
                    "designerId": "00b4adad-264c-4696-b330-bcb43af0b981",
                    "cn": [
                        {
                            "type": "Ext.form.field.Text",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "emptyText": "URBS",
                                "enableKeyEvents": true,
                                "fieldLabel": "",
                                "hideTrigger": true,
                                "id": "cbCodigoB",
                                "layout|flex": null
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "layout|flex": "number",
                                "displayField": "datafield",
                                "emptyText": "string",
                                "enableKeyEvents": "boolean",
                                "hideTrigger": "boolean",
                                "id": "string",
                                "queryMode": "string",
                                "store": "store",
                                "valueField": "datafield"
                            },
                            "name": "MyTextField",
                            "designerId": "89a3dc00-5971-4bb8-a5b6-61c7df28a280",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCbCodigoBChange",
                                        "implHandler": [
                                            "valor = Ext.getCmp('cbCodigoB').getValue();",
                                            "",
                                            "var storeMuestra = Ext.getCmp('grdMuestras').getStore();",
                                            "storeMuestra.removeAll();",
                                            "storeMuestra.proxy.extraParams = {",
                                            "    codigo:valor,",
                                            "    busqueda: 2",
                                            "};",
                                            "storeMuestra.load();"
                                        ],
                                        "name": "change",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onCbCodigoBChange",
                                    "designerId": "9373d3a0-96e1-415b-9a1b-683e9cef3857"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.field.ComboBox",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "displayField": "descripcion",
                                "editable": false,
                                "fieldLabel": "Estado",
                                "id": "cbEstadoB",
                                "labelWidth": 50,
                                "layout|flex": null,
                                "margin": "0 0 0 20",
                                "queryMode": "local",
                                "store": "Status",
                                "valueField": "id"
                            },
                            "configAlternates": {
                                "displayField": "datafield",
                                "editable": "boolean",
                                "fieldLabel": "string",
                                "id": "string",
                                "layout|flex": "number",
                                "queryMode": "string",
                                "store": "store",
                                "valueField": "datafield",
                                "labelWidth": "number",
                                "margin": "auto"
                            },
                            "name": "MyComboBox21",
                            "designerId": "724e10f8-79a7-4a7f-9e4d-c35ccef1c0d3",
                            "cn": [
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onCbEstadoBSelect",
                                        "implHandler": [
                                            "estado = Ext.getCmp('cbEstadoB').getValue();",
                                            "",
                                            "var storeMuestra = Ext.getCmp('grdMuestras').getStore();",
                                            "storeMuestra.removeAll();",
                                            "storeMuestra.proxy.extraParams = {",
                                            "    estado:estado,",
                                            "    busqueda: 1",
                                            "};",
                                            "storeMuestra.load();",
                                            "",
                                            ""
                                        ],
                                        "name": "select",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onCbEstadoBSelect",
                                    "designerId": "a4dd8bb8-cbb4-44a9-a97b-51012d87d0c7"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.toolbar.Paging",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "displayInfo": true,
                        "dock": "bottom",
                        "store": "Muestra",
                        "width": 360
                    },
                    "configAlternates": {
                        "displayInfo": "boolean",
                        "dock": "string",
                        "store": "store",
                        "width": "auto"
                    },
                    "name": "MyPagingToolbar",
                    "designerId": "18e76c2b-ea6f-4d5e-a349-f07bce6c5c9a"
                }
            ]
        }
    ]
}