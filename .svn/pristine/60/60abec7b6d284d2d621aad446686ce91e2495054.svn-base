{
    "type": "Ext.container.Viewport",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "vwprtlogin",
        "designer|userClassName": "vwprtLogin",
        "height": 250,
        "layout": "border",
        "width": 400
    },
    "configAlternates": {
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "height": "auto",
        "layout": "string",
        "width": "auto"
    },
    "name": "MyViewport",
    "designerId": "e03a9f87-4144-4226-a82e-cb3c2aa77fac",
    "viewControllerInstanceId": "90e27212-2577-49ee-a2d0-c4cecddf6b9f",
    "viewModelInstanceId": "6b229a25-a133-4f4a-9a14-93f2b2c12f75",
    "cn": [
        {
            "type": "Ext.panel.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "bodyStyle": "background-color : #666666",
                "header": false,
                "layout": "center",
                "layout|region": "center",
                "title": "My Panel"
            },
            "configAlternates": {
                "bodyStyle": "string",
                "header": "boolean",
                "layout": "string",
                "layout|region": "string",
                "title": "string"
            },
            "name": "MyPanel",
            "designerId": "3a20af3f-1f09-442d-9768-f12b00d2b221",
            "cn": [
                {
                    "type": "Ext.panel.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "header": false,
                        "height": 350,
                        "layout": "border",
                        "title": "My Panel",
                        "width": 550
                    },
                    "configAlternates": {
                        "header": "boolean",
                        "height": "auto",
                        "layout": "string",
                        "title": "string",
                        "width": "auto"
                    },
                    "name": "MyPanel1",
                    "designerId": "348a9722-af87-4a1c-9ea8-bc91e01336e7",
                    "cn": [
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "header": false,
                                "height": 150,
                                "layout|region": "north",
                                "title": "My Panel"
                            },
                            "configAlternates": {
                                "header": "boolean",
                                "height": "auto",
                                "layout|region": "string",
                                "title": "string"
                            },
                            "name": "MyPanel2",
                            "designerId": "49c7d324-9ce6-43c4-8df0-a7de9f631592"
                        },
                        {
                            "type": "Ext.form.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "bodyPadding": 10,
                                "container|align": "center",
                                "header": false,
                                "id": "frmLogin",
                                "layout": "vbox",
                                "layout|region": "center",
                                "title": "Login",
                                "titleAlign": "center"
                            },
                            "configAlternates": {
                                "bodyPadding": "auto",
                                "container|align": "string",
                                "header": "boolean",
                                "id": "string",
                                "layout": "string",
                                "layout|region": "string",
                                "title": "string",
                                "titleAlign": "string"
                            },
                            "name": "MyForm",
                            "designerId": "e4df611f-7fa2-412e-9245-759d4895544b",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "allowBlank": false,
                                        "fieldLabel": "Usuario",
                                        "labelAlign": "right",
                                        "margin": "20 0 10 0",
                                        "name": "usuario"
                                    },
                                    "configAlternates": {
                                        "allowBlank": "boolean",
                                        "fieldLabel": "string",
                                        "labelAlign": "string",
                                        "margin": "auto",
                                        "name": "string"
                                    },
                                    "name": "MyTextField",
                                    "designerId": "181fe582-c4b4-498c-bab5-d2ed9ec32a13"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "allowBlank": false,
                                        "fieldLabel": "Clave",
                                        "inputType": "password",
                                        "labelAlign": "right",
                                        "name": "clave"
                                    },
                                    "configAlternates": {
                                        "allowBlank": "boolean",
                                        "fieldLabel": "string",
                                        "inputType": "string",
                                        "labelAlign": "string",
                                        "name": "string"
                                    },
                                    "name": "MyTextField1",
                                    "designerId": "660494d8-d4e2-4f9b-a8a8-514efcf06b78",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onTextfieldSpecialkey",
                                                "implHandler": [
                                                    "if(e.getKey() == e.ENTER)",
                                                    "        {",
                                                    "            this.onButtonClick();",
                                                    "        }"
                                                ],
                                                "name": "specialkey",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onTextfieldSpecialkey",
                                            "designerId": "46f75a49-b8a1-40f4-af8f-89fa2e2611b8"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "text": "Aceptar"
                                    },
                                    "configAlternates": {
                                        "text": "string"
                                    },
                                    "name": "MyButton",
                                    "designerId": "2d348ff0-d064-4ae0-a78b-a130600401a8",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onButtonClick",
                                                "implHandler": [
                                                    "var forma = this.getView().down('#frmLogin').getForm();",
                                                    "",
                                                    "if(forma.isValid())",
                                                    "{",
                                                    "    forma.submit(",
                                                    "        {",
                                                    "            url: '../servidor/login/revisa',",
                                                    "            method: 'post',",
                                                    "            scope: this,",
                                                    "            success: function(response, opts)",
                                                    "            {",
                                                    "",
                                                    "                var responseData = opts.result.data;",
                                                    "",
                                                    "                if(responseData.verified === true){",
                                                    "                    this.getView().destroy();",
                                                    "                    Ext.create('plasma.view.vwprtPrincipal', {renderTo: Ext.getBody()});",
                                                    "                    NOMBRE = responseData.nombre_apps;",
                                                    "                    USUARIO = responseData.usuario_apps;",
                                                    "                    Ext.getCmp('menuUsuarios').setVisible(false);",
                                                    "                    ROL = responseData.rolAp_apps[0].rol;",
                                                    "                    if(responseData.rolAp_apps[0].rol === 1)",
                                                    "                        Ext.getCmp('menuUsuarios').setVisible(true);",
                                                    "                    Ext.getCmp('idUsuario').setText('Usuario:'+NOMBRE);",
                                                    "                }",
                                                    "                else{",
                                                    "                    Ext.Msg.show({",
                                                    "                        title:'Error',",
                                                    "                        msg: 'Usted no tiene permisos para acceder',",
                                                    "                        buttons: Ext.Msg.OK,",
                                                    "                        icon: Ext.MessageBox.ERROR",
                                                    "                    });",
                                                    "                }",
                                                    "",
                                                    "            },",
                                                    "",
                                                    "            failure: function(response, opts)",
                                                    "            {",
                                                    "                Ext.Msg.show({",
                                                    "                    title:'Error',",
                                                    "                    msg: 'Usuario o clave mal ingresados',",
                                                    "                    buttons: Ext.Msg.OK,",
                                                    "                    icon: Ext.MessageBox.WARNING",
                                                    "                });",
                                                    "            }",
                                                    "        });",
                                                    "}",
                                                    "else",
                                                    "{",
                                                    "    Ext.Msg.alert('Error', 'Hubo un error');",
                                                    "}",
                                                    ""
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onButtonClick",
                                            "designerId": "4c4fa754-b4b4-4c0e-9e35-9e6d43939549"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Hidden",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "anchor": "100%",
                                        "fieldLabel": "Label",
                                        "name": "aplicacion",
                                        "value": [
                                            "'plasma'"
                                        ]
                                    },
                                    "configAlternates": {
                                        "anchor": "string",
                                        "fieldLabel": "string",
                                        "name": "string",
                                        "value": "object"
                                    },
                                    "name": "MyHiddenField",
                                    "designerId": "86636cbe-ef76-499c-9866-db9f9b087da9"
                                }
                            ]
                        },
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "center",
                                "layout": "vbox",
                                "layout|region": "south"
                            },
                            "configAlternates": {
                                "container|align": "string",
                                "layout": "string",
                                "layout|region": "string"
                            },
                            "name": "MyPanel3",
                            "designerId": "86b3372d-5ca3-4d39-bd36-16c785256881",
                            "cn": [
                                {
                                    "type": "Ext.form.Label",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "margin": "0 0 15 0",
                                        "style": "fontFamily : Georgia; font-style: italic; font-size: 15px",
                                        "text": "Desarrollado por la Dirección Informática | PUCE"
                                    },
                                    "configAlternates": {
                                        "margin": "auto",
                                        "style": "string",
                                        "text": "string"
                                    },
                                    "name": "MyLabel",
                                    "designerId": "e903332d-eb6c-422a-a840-4b8e71a80560"
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}