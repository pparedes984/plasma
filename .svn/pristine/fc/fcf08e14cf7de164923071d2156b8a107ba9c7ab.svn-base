/*
 * File: app/view/pnlNuevoMuestraViewController.js
 *
 * This file was generated by Sencha Architect version 4.2.4.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 6.6.x Classic library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 6.6.x Classic. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('plasma.view.pnlNuevoMuestraViewController', {
    extend: 'Ext.app.ViewController',
    alias: 'controller.pnlnuevomuestra',

    onCbKitMSelect: function(combo, record, eOpts) {


        Ext.Ajax.request({
            method: 'post',
            url: '../servidor/plasma/casacomercial/getCasa',
            params: {
                casa: record.data.casa_comercial,
            },
            success: function (response, options) {
                var responseData = Ext.JSON.decode(response.responseText);
                console.log(responseData.data[0].nombre);
                Ext.getCmp('txtCasaM').setValue(responseData.data[0].nombre);
            }
        });
    },

    onBtnMarcadorMasClick: function(button, e, eOpts) {


        console.log("A");
        var panel = Ext.create('Ext.panel.Panel', {
            margin: '10 10 10 10',
            layout : {
                type  : 'vbox',
                pack  : 'center',
                align : 'middle'
            },

            items:[

            {
                xtype: 'combobox',
                id: 'cbMarcador'+I,
                fieldLabel: 'Marcador Serol√≥gico',
                name: 'marcador',
                allowBlank: false,
                editable: false,
                displayField: 'nombre',
                queryMode: 'local',
                store: 'Marcador',
                valueField: 'codigo'
            },
            {
                xtype: 'textfield',
                id: 'txtAbsCol'+I,
                fieldLabel: 'Abs/COl',
                name: 'abs_co',
                allowBlank: false
            }

            ],
            renderTo: Ext.getBody()
        });

        I=I+1;
        Ext.getCmp('frmRecepcion1').add(panel);


    },

    onBtnGuardarMuestraClick: function(button, e, eOpts) {

    },

    onBtnCancelarMuestraClick: function(button, e, eOpts) {

    }

});
